{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  console.log(\"Login button clicked\");\n  try {\n    const response = await fetch(\"http://localhost:5000/api/auth/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await response.json();\n    console.log(\"Response JSON:\", data);\n    if (!response.ok) {\n      setError(data.message || \"Login failed\");\n      return;\n    }\n    localStorage.setItem(\"authToken\", data.token);\n    console.log(\"Login successful, storing token\");\n\n    // Update App.js state BEFORE navigation\n    if (onLogin) onLogin();\n    navigate(\"/dashboard\");\n    console.log(\"Navigating to dashboard...\");\n  } catch (err) {\n    console.error(\"Login error:\", err);\n    setError(\"Server error\");\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","email","password","data","json","ok","setError","message","localStorage","setItem","token","onLogin","navigate","err","error"],"sources":["C:/Users/aravi/fullstack-app/frontend/src/components/LoginForm.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  console.log(\"Login button clicked\");\r\n\r\n  try {\r\n    const response = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    console.log(\"Response JSON:\", data);\r\n\r\n    if (!response.ok) {\r\n      setError(data.message || \"Login failed\");\r\n      return;\r\n    }\r\n\r\n    localStorage.setItem(\"authToken\", data.token);\r\n    console.log(\"Login successful, storing token\");\r\n\r\n    // Update App.js state BEFORE navigation\r\n    if (onLogin) onLogin();\r\n\r\n    navigate(\"/dashboard\");\r\n    console.log(\"Navigating to dashboard...\");\r\n  } catch (err) {\r\n    console.error(\"Login error:\", err);\r\n    setError(\"Server error\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EAEnC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,EAAE;MACnEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,KAAK;QAAEC;MAAS,CAAC;IAC1C,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClCZ,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEU,IAAI,CAAC;IAEnC,IAAI,CAACT,QAAQ,CAACW,EAAE,EAAE;MAChBC,QAAQ,CAACH,IAAI,CAACI,OAAO,IAAI,cAAc,CAAC;MACxC;IACF;IAEAC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEN,IAAI,CAACO,KAAK,CAAC;IAC7ClB,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;;IAE9C;IACA,IAAIkB,OAAO,EAAEA,OAAO,CAAC,CAAC;IAEtBC,QAAQ,CAAC,YAAY,CAAC;IACtBpB,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;EAC3C,CAAC,CAAC,OAAOoB,GAAG,EAAE;IACZrB,OAAO,CAACsB,KAAK,CAAC,cAAc,EAAED,GAAG,CAAC;IAClCP,QAAQ,CAAC,cAAc,CAAC;EAC1B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}