{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aravi\\\\fullstack-app\\\\frontend\\\\src\\\\pages\\\\DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport TaskForm from \"../components/TaskForm.js\";\nimport TasksList from \"../components/TasksList.js\";\nimport { getTasks, addTask, updateTask, deleteTask } from \"../services/api.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DashboardPage() {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n  const token = localStorage.getItem(\"authToken\");\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n  const fetchTasks = async () => {\n    const data = await getTasks(token);\n    setTasks(data.tasks || []);\n  };\n  const handleTaskAction = async (action, id, task) => {\n    if (action === \"add\") {\n      const newTask = await addTask(task, token);\n      setTasks(prev => [...prev, newTask]);\n    } else if (action === \"update\") {\n      const updated = await updateTask(id, task, token);\n      setTasks(prev => prev.map(t => t.id === id ? updated : t));\n      setEditingTask(null);\n    }\n  };\n  const handleEdit = task => setEditingTask(task);\n  const handleDelete = async id => {\n    await deleteTask(id, token);\n    setTasks(prev => prev.filter(t => t.id !== id));\n  };\n  const handleCancelEdit = () => setEditingTask(null);\n  const handleLogout = () => {\n    localStorage.removeItem(\"authToken\");\n    window.location.href = \"/login\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n      token: token,\n      onTaskAdded: handleTaskAction,\n      editingTask: editingTask,\n      onCancelEdit: handleCancelEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TasksList, {\n      tasks: tasks,\n      onEdit: handleEdit,\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(DashboardPage, \"nwiSLkn6Y0JvLhs83lscW/YeAV0=\");\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","TaskForm","TasksList","getTasks","addTask","updateTask","deleteTask","jsxDEV","_jsxDEV","DashboardPage","_s","tasks","setTasks","editingTask","setEditingTask","token","localStorage","getItem","fetchTasks","data","handleTaskAction","action","id","task","newTask","prev","updated","map","t","handleEdit","handleDelete","filter","handleCancelEdit","handleLogout","removeItem","window","location","href","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onTaskAdded","onCancelEdit","onEdit","onDelete","_c","$RefreshReg$"],"sources":["C:/Users/aravi/fullstack-app/frontend/src/pages/DashboardPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TaskForm from \"../components/TaskForm.js\";\r\nimport TasksList from \"../components/TasksList.js\";\r\nimport { getTasks, addTask, updateTask, deleteTask } from \"../services/api.js\";\r\n\r\nfunction DashboardPage() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const token = localStorage.getItem(\"authToken\");\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const fetchTasks = async () => {\r\n    const data = await getTasks(token);\r\n    setTasks(data.tasks || []);\r\n  };\r\n\r\n  const handleTaskAction = async (action, id, task) => {\r\n    if (action === \"add\") {\r\n      const newTask = await addTask(task, token);\r\n      setTasks((prev) => [...prev, newTask]);\r\n    } else if (action === \"update\") {\r\n      const updated = await updateTask(id, task, token);\r\n      setTasks((prev) => prev.map((t) => (t.id === id ? updated : t)));\r\n      setEditingTask(null);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (task) => setEditingTask(task);\r\n  const handleDelete = async (id) => {\r\n    await deleteTask(id, token);\r\n    setTasks((prev) => prev.filter((t) => t.id !== id));\r\n  };\r\n  const handleCancelEdit = () => setEditingTask(null);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"authToken\");\r\n    window.location.href = \"/login\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"d-flex justify-content-between mb-4\">\r\n        <h2>Dashboard</h2>\r\n        <button className=\"btn btn-danger\" onClick={handleLogout}>Logout</button>\r\n      </div>\r\n      <TaskForm\r\n        token={token}\r\n        onTaskAdded={handleTaskAction}\r\n        editingTask={editingTask}\r\n        onCancelEdit={handleCancelEdit}\r\n      />\r\n      <TasksList tasks={tasks} onEdit={handleEdit} onDelete={handleDelete} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DashboardPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}